<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Index</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/ljve.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":false,"windowTitle":"Javascript library to easily access Zimbra's SOAP API (v. 1.0.0-beta.1)","default":{}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="AddRequestOptions">
            <span class="title">
                <a href="AddRequestOptions.html">AddRequestOptions</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="AuthOptions">
            <span class="title">
                <a href="AuthOptions.html">AuthOptions</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="BaseOption">
            <span class="title">
                <a href="BaseOption.html">BaseOption</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="BaseOption#defaultOptions"><a href="BaseOption.html#defaultOptions">defaultOptions</a></li>
            
                <li data-name="BaseOption#validationRules"><a href="BaseOption.html#validationRules">validationRules</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="BaseOption#validate"><a href="BaseOption.html#validate">validate</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="CommunicationApi">
            <span class="title">
                <a href="CommunicationApi.html">CommunicationApi</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="CommunicationApi#auth"><a href="CommunicationApi.html#auth">auth</a></li>
            
                <li data-name="CommunicationApi#getRequest"><a href="CommunicationApi.html#getRequest">getRequest</a></li>
            
                <li data-name="CommunicationApi#send"><a href="CommunicationApi.html#send">send</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="CommunicationConstructorOptions">
            <span class="title">
                <a href="CommunicationConstructorOptions.html">CommunicationConstructorOptions</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="CreatePreauthOptions">
            <span class="title">
                <a href="CreatePreauthOptions.html">CreatePreauthOptions</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="GetRequestOptions">
            <span class="title">
                <a href="GetRequestOptions.html">GetRequestOptions</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="InvalidOptionError">
            <span class="title">
                <a href="InvalidOptionError.html">InvalidOptionError</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="NoBatchResponse">
            <span class="title">
                <a href="NoBatchResponse.html">NoBatchResponse</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="NoRequestsError">
            <span class="title">
                <a href="NoRequestsError.html">NoRequestsError</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="NoTokenError">
            <span class="title">
                <a href="NoTokenError.html">NoTokenError</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RequestApi">
            <span class="title">
                <a href="RequestApi.html">RequestApi</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RequestApi#addRequest"><a href="RequestApi.html#addRequest">addRequest</a></li>
            
                <li data-name="RequestApi#getRequest"><a href="RequestApi.html#getRequest">getRequest</a></li>
            
                <li data-name="RequestApi#isBatch"><a href="RequestApi.html#isBatch">isBatch</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RequestConstructorOptions">
            <span class="title">
                <a href="RequestConstructorOptions.html">RequestConstructorOptions</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ResponseApi">
            <span class="title">
                <a href="ResponseApi.html">ResponseApi</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="ResponseApi#get"><a href="ResponseApi.html#get">get</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ResponseConstructorOptions">
            <span class="title">
                <a href="ResponseConstructorOptions.html">ResponseConstructorOptions</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="SystemError">
            <span class="title">
                <a href="SystemError.html">SystemError</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="ZimbraError">
            <span class="title">
                <a href="ZimbraError.html">ZimbraError</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="index.html">Index</h1>
        


    


    <h3> </h3>








    




    <section>
        <article class="readme"><h1>js-zimbra <a target="_blank" href="https://travis-ci.org/Zimbra-Community/js-zimbra"><img src="https://travis-ci.org/Zimbra-Community/js-zimbra.svg?branch=master" alt="Build Status"></a> <a target="_blank" href="https://codeclimate.com/github/Zimbra-Community/js-zimbra"><img src="https://codeclimate.com/github/Zimbra-Community/js-zimbra/badges/gpa.svg" alt="Code Climate"></a> <a target="_blank" href="https://codeclimate.com/github/Zimbra-Community/js-zimbra/coverage"><img src="https://codeclimate.com/github/Zimbra-Community/js-zimbra/badges/coverage.svg" alt="Test Coverage"></a></h1><p>Javascript library to easily access Zimbra's SOAP API. Handles authentication
 using password auth or preauth keys, request sending, response interpreting 
 and batch processing.</p>
<p>This is basically a JS-port of the <a target="_blank" href="https://github.com/Zimbra-Community/python-zimbra">Python-Zimbra library</a>, 
but does a few things differently.</p>
<p>The main difference is, that only JSON-based requests are supported, no XML. 
The whole library is asynchronous and based on callbacks.</p>
<h2>Getting Started</h2><p>Install the module with: <code>npm install js-zimbra</code></p>
<p>Afterwards you can use the library by requiring it:</p>
<pre class="prettyprint source"><code>var jszimbra = require('js-zimbra');</code></pre><h2>Authentication handling</h2><p>To authenticate against a Zimbra server, use the &quot;auth&quot; method of the 
communication API like this:</p>
<pre class="prettyprint source lang-javascript"><code>var jszimbra = require('js-zimbra');

// Initialize the communication object with the SOAP-API URL

var comm = new jszimbra.Communication({
    url: &quot;https://your-zimbra-server/service/soap&quot;
    });

// Authenticate

comm.auth({
    &quot;username&quot;: &quot;zimbrauser&quot;,
    &quot;secret&quot;: &quot;fowunfguipht542uip5nupfnru2ütu3ü2brtufwe&quot;
}, function (err) {

    if (err) {

        // An error occured authenticating!

    }

    // Now, carry on creating requests and sending them
};</code></pre><p>In this example, a Preauthkey was used. If you'd like to use a password 
instead, you can do this by setting the option &quot;isPassword&quot; in the options 
object passed to the auth-method to true:</p>
<pre class="prettyprint source lang-javascript"><code>comm.auth({
    &quot;username&quot;: &quot;zimbrauser&quot;,
    &quot;secret&quot;: &quot;verysecretpassword&quot;,
    &quot;isPassword&quot;: true
},(...)</code></pre><p>If you're authenticating against the Zimbra Admin backend, you have to set 
the option &quot;isAdmin&quot; to true. Currently, Zimbra only supports password-based 
authentication for the administration backend, so the option &quot;secret&quot; has to be 
the password of an administrator. &quot;isAdmin&quot; implies &quot;isPassword&quot;, 
so you don't have to set that as well.</p>
<h2>Request/Response handling</h2><p>Like in the python version of this library, requests are built inside a 
&quot;request handler&quot;. You can get one by using the &quot;getRequest&quot;-method of the 
communications api.</p>
<p>Afterwards, you can add one or multiple (see BatchRequest-handling) requests.
 Finally, supply the built-up request handler to the &quot;send&quot;-method of the 
 communications api and you'll retrieve a &quot;response handler&quot;.</p>
<p>This handler has a &quot;get&quot;-method that returns the Zimbra response for your 
request as a plain javascript object.</p>
<p>Here's an example for the workflow:</p>
<pre class="prettyprint source lang-javascript"><code>var jszimbra = require('js-zimbra');

// Initialize the communication object with the SOAP-API URL

var comm = new jszimbra.Communication({
    url: &quot;https://your-zimbra-server/service/soap&quot;
    });

// Authenticate

comm.auth({
    &quot;username&quot;: &quot;zimbrauser&quot;,
    &quot;secret&quot;: &quot;fowunfguipht542uip5nupfnru2ütu3ü2brtufwe&quot;
}, function (err) {

    if (err) {

        // An error occured authenticating!

    }

    comm.getRequest({}, function (err, req) {

        if (err) {

            // Can't create a new request

        }

        req.addRequest({
            name: &quot;GetAccountInfoRequest&quot;,
            namespace: &quot;zimbraAccount&quot;,
            params: {
                &quot;account&quot;: {
                    &quot;by&quot;: &quot;name&quot;,
                    &quot;_content&quot;: &quot;dennis.ploeger@getit.de&quot;
                }
            }, function (err) {

            if (err) {

                // Can not add request to the request handler

            }

            comm.send(req, function (err, response) {

                if (err) {

                    // Can not send request

                }

                // response holds our response

                console.log(response.get().GetAccountInfoResponse);

            });

        });

    });

});</code></pre><h2>Batch Requests</h2><p>js-zimbra also supports batch requests. This has to be enabled in the 
getRequest-method by setting the option &quot;isBatch&quot; to true. Afterwards, 
subsequent calls to request#addRequest will add requests to this batch and 
return the request id to the callback.</p>
<pre class="prettyprint source lang-javascript"><code>var comm = new jszimbra.Communication({
    url: &quot;https://your-zimbra-server/service/soap&quot;
});

comm.auth({
    &quot;username&quot;: &quot;zimbrauser&quot;,
    &quot;secret&quot;: &quot;fowunfguipht542uip5nupfnru2ütu3ü2brtufwe&quot;
}}, function (err) {

        comm.getRequest({
            isBatch: true
        }, function (err, req) {

            req.addRequest({
                name: &quot;GetAccountInfoRequest&quot;,
                namespace: &quot;zimbraAccount&quot;,
                params: {
                    &quot;account&quot;: {
                        &quot;by&quot;: &quot;name&quot;,
                        &quot;_content&quot;: &quot;zimbraid&quot;
                    }
                }
            }, function (err, reqid) {

                // reqid holds the id of the added request and can be used to
                // identify the request in the response

                req.addRequest({
                    name: &quot;GetAccountInfoRequest&quot;,
                    namespace: &quot;zimbraAccount&quot;,
                    params: {
                        &quot;account&quot;: {
                            &quot;by&quot;: &quot;name&quot;,
                            &quot;_content&quot;: &quot;zimbraid&quot;
                        }
                    }
                }, function (err, reqid) {

                    comm.send(req, function (err, response) {

                        // Shows an array with two members

                        console.log(response.GetAccountInfoRequest);                        

                    });

                });

            });

        });

        done();

    }
);</code></pre><h2>Logging</h2><p>js-zimbra uses the excellent <a target="_blank" href="https://github.com/winstonjs/winston">Winston</a> 
framework for logging. To make it easier to configure js-zimbra-specific 
logging, we use our own logger called &quot;js-zimbra&quot;.</p>
<p>You can configure the logger by issuing something like the following commands
 <em>before</em> requiring the js-zimbra library:</p>
<pre class="prettyprint source lang-javascript"><code>// Set js-zimbra's maximum log level to &quot;error&quot; to mostly silence it.

var winston = require('winston');

winston.loggers.add(&quot;js-zimbra&quot;, {console: {level: &quot;error&quot;}});</code></pre><h2>Contributing</h2><p>In lieu of a formal styleguide, take care to maintain the existing coding style. 
Add unit tests for any new or changed functionality. Lint and test your code 
using</p>
<pre class="prettyprint source"><code>grunt</code></pre><p>You may also (and are suggested to) check the code coverage of your new or 
changed code by running</p>
<pre class="prettyprint source"><code>grunt coverage</code></pre><h2>License</h2><p>Copyright (c) 2015 Dennis Ploeger<br>Licensed under the MIT license.</p></article>
    </section>






        

        <footer>
            Documentation generated by <a target="_blank" href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Thu Nov 26 2015 09:37:25 GMT+0100 (CET)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
